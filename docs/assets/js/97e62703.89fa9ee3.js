"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[12432],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const o={},d=t.createContext(o);function s(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(d.Provider,{value:n},e.children)}},76955:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"form-definition/form-processing/conditions","title":"Conditions","description":"Conditions enable you to offer different options of form parts based on the input, alter the visibility of form parts or create dependencies.","source":"@site/versioned_docs/version-9.4/form-definition/70-form-processing/20-conditions.md","sourceDirName":"form-definition/70-form-processing","slug":"/form-definition/form-processing/conditions","permalink":"/docs/9.4/form-definition/form-processing/conditions","draft":false,"unlisted":false,"tags":[],"version":"9.4","sidebarPosition":20,"frontMatter":{"title":"Conditions","description":"Conditions enable you to offer different options of form parts based on the input, alter the visibility of form parts or create dependencies."},"sidebar":"tutorialSidebar","previous":{"title":"Stages and Workflows","permalink":"/docs/9.4/form-definition/form-processing/stages"},"next":{"title":"Form Field Validation","permalink":"/docs/9.4/form-definition/form-processing/formfieldsvalidations"}}');var o=i(74848),d=i(28453);const s={title:"Conditions",description:"Conditions enable you to offer different options of form parts based on the input, alter the visibility of form parts or create dependencies."},l="Conditions",a={},r=[{value:"Definition",id:"definition",level:2},{value:"Complex else state",id:"complex-else-state",level:3},{value:"Conditions on structural elements",id:"conditions-on-structural-elements",level:2},{value:"Conditions within a block",id:"conditions-within-a-block",level:2},{value:"Conditions within a field",id:"conditions-within-a-field",level:2},{value:"Conditions with multiple states (<code>elseCallback</code>)",id:"conditions-with-multiple-states-elsecallback",level:2},{value:"Nested Conditions",id:"nested-conditions",level:2}];function c(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"conditions",children:"Conditions"})}),"\n",(0,o.jsxs)(n.p,{children:["Control the visibility and validation of form elements by adding conditions. These conditions can control the visibility of structural form elements as there are pages, tabs and blocks and the behaviour of a form field.",(0,o.jsx)(n.br,{}),"\n","Therefore simply add the attribute ",(0,o.jsx)(n.code,{children:"data-hf-condition"})," to the navigation elements and the form controls or use the form control ",(0,o.jsx)(n.code,{children:"HFWinJSCtrl.Condition"}),".\nEven the submission of the form can be controlled by adding a structural condition to the ",(0,o.jsx)(n.code,{children:"<form>"}),"-tag."]}),"\n",(0,o.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,o.jsxs)(n.p,{children:["The value of the ",(0,o.jsx)(n.code,{children:"data-hf-condition"})," must be a JSON string.",(0,o.jsx)(n.br,{}),"\n","The typescript representation of the condition object is defined below:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="Type definition"',children:"interface IConditionExpression {\n    type: 'page' | 'tab' | 'block' | 'field' | 'kiosk' | 'stage';\n    id: string;\n    val?: boolean | number | string; // only used by type field\n    op?: 'equals' | 'contains' | 'not'; // default: 'equals'; only used by type field\n    cond?: IConditionExpression[]; // a nested condition\n    nestedOp?: 'and' | 'or'; // only used in nested conditions; default := and\n}\n\ninterface IElseCondition {\n    cond?: IConditionExpression[];\n    default?: boolean;\n    op?: 'and' | 'or';\n}\n\ninterface IConditionExpressionElseComplex {\n    readonly: IElseCondition;\n    disabled: IElseCondition;\n    invisible: IElseCondition;\n    optional: IElseCondition;\n}\n\ninterface ICondition {\n    cond: IConditionExpression[];\n    op?: 'and' | 'or'; // default: and\n    else?: 'invisible' | 'disabled' | 'readonly' | 'optional' | IConditionExpressionElseComplex;\n    elseCallback?: (executorId: string, conditionObject: ICondition) => string;\n    excludeFromValidation?: boolean; // default: false\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["A structural condition (el: ",(0,o.jsx)(n.code,{children:"page"}),", ",(0,o.jsx)(n.code,{children:"tab"}),"  or ",(0,o.jsx)(n.code,{children:"block"}),") is fullfilled when it itself is fullfilled and all its required fields are filled out and all fields are valid."]}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"field"})," condition is fullfilled when the op is ",(0,o.jsx)(n.code,{children:"equals"}),"(default) and the field has the value ",(0,o.jsx)(n.code,{children:"val"}),". A ",(0,o.jsx)(n.code,{children:"field"})," condition is fullfilled when the op is ",(0,o.jsx)(n.code,{children:"not"})," and the field has not the same value as defined in ",(0,o.jsx)(n.code,{children:"val"}),". A ",(0,o.jsx)(n.code,{children:"field"})," condition is fullfilled when the op is ",(0,o.jsx)(n.code,{children:"contains"})," and the field contains the value that is defined in ",(0,o.jsx)(n.code,{children:"val"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"field"})," condition without property ",(0,o.jsx)(n.code,{children:"val"})," is fullfilled if the field has an non empty value."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"else"})," is the state if the condition is not fullfilled. the default is ",(0,o.jsx)(n.code,{children:"invisible"}),"."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"invisible"})," structural element or control is hidden. Required fields are not counted as required."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"disabled"})," structural element or control is visible but disabled. Required fields are not counted as required."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"optional"})," structural element or control is visible and enabled. Required fields are not counted as required."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"readonly"})," structural element or control is visible and readonly. Required fields are not counted as required."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"elseCallback"})," is used to define a callback function which have to return one of the above else states as string."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"excludeFromValidation"})," prevents the validator from validating a condition again within the same condition validation. This should only be used in special cases where otherwise a condition loop will be the result. Don\xb4t use required fields within such a condition."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Note",type:"tip",children:(0,o.jsx)(n.p,{children:'Please mind the difference between "disabled" and "readonly" especially in case of structural elements. The status "readonly" preserves the navigability of the structural element ( i.e. "page", "tab") and offers a better readability than the status "disabled".'})}),"\n",(0,o.jsx)(n.admonition,{title:"Info",type:"info",children:(0,o.jsx)(n.p,{children:"FormControls with boolean values (CheckBox, RadioBox, Switch) \u200b\u200bmust have a default value in order to work properly as Condition field!"})}),"\n",(0,o.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,o.jsx)(n.p,{children:'The option "disabled" is deprecated and only supported for backwards compatibility of versions lower than 7.3.0.'})}),"\n",(0,o.jsx)(n.h3,{id:"complex-else-state",children:"Complex else state"}),"\n",(0,o.jsx)(n.p,{children:"Else states can also be defined declarative in the FormDefinition. All alllowed else states can be used as keys with normal condition objects as values. Nested conditions can be used as well."}),"\n",(0,o.jsx)(n.p,{children:"If one of the conditions is fullfilled, this else state is used for the main condition. If non of them is fullfilled, a defined default else state is used."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<li data-hf-title="Service Notes"\n    data-hf-condition=\'{\n        "cond": [{\n            "type": "stage",\n            "id": "S1",\n            "val": "false"\n        }],\n        "else": {\n            "readonly": {\n                "op": "and",\n                "cond": [{\n                    "type": "field",\n                    "id": "operation_id",\n                    "val": "1234"\n                }, {\n                    "cond": [{\n                        "type": "stage",\n                        "id": "S1",\n                        "val": true\n                    }, {\n                        "type": "stage",\n                        "id": "S3",\n                        "val": true\n                    }],\n                    "nestedOp": "or"\n                }]\n            },\n            "invisible": {\n                "default": true\n            }\n        }\n    }\'>\n    ...\n</li>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"conditions-on-structural-elements",children:"Conditions on structural elements"}),"\n",(0,o.jsxs)(n.p,{children:["The attribute ",(0,o.jsx)(n.code,{children:"data-hf-condition"})," can be added to every HybridForms structural element like ",(0,o.jsx)(n.strong,{children:"page"}),", ",(0,o.jsx)(n.strong,{children:"tab"})," or ",(0,o.jsx)(n.strong,{children:"block"})," and on the ",(0,o.jsx)(n.strong,{children:"form"})," itself.",(0,o.jsx)(n.br,{}),"\n","Conditions defined in the ",(0,o.jsx)(n.code,{children:"form"})," tag are requirements for the approval of the form itself. Conditions on pages can be based on all structural elements as well as on particular fields."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<form data-hf-condition=\'{ "cond": [ { "type" : "page", "id": "lastpage" } ] }\'>\n   \x3c!-- first level - pages --\x3e\n   <ol>\n       <li data-hf-title="Controls" \n           data-hf-condition=\'{ \n               "op" : "and", \n               "cond": [{ \n                       "type" : "field", \n                       "id": "testradio", \n                       "val": "value1" \n                   }, { \n                       "type" : "field", \n                       "id": "testcheckbox", \n                       "val": "yes"\n                   }], \n               "else": "optional" \n           }\'>\n       \x3c!-- second level - tabs --\x3e\n           <ol>\n               ...\n           </ol>\n       </li>\n       \x3c!-- nested condition on the last page --\x3e\n       <li data-hf-title="Last Page" \n           id="lastPage"                \n           data-hf-condition=\'{\n               "op": "or",\n               "cond": [{\n                   "type": "stage",\n                   "id": "ST2",\n                   "val": true\n               }, {\n                   "type": "stage",\n                   "id": "ST4",\n                   "val": true\n               }, {\n                   "cond": [{\n                       "type": "field",\n                       "id": "address_zip_code",\n                       "val": "8010"\n                   }, {\n                       "type": "field",\n                       "id": "address_city",\n                       "val": "Graz"\n                   }],\n                   "nestedOp": "or"   \n               }],\n               "else": "invisible"\n           }\'>\n       \x3c!-- second level - tabs --\x3e\n           <ol>\n               ...\n           </ol>\n       </li>\n   </ol>\n</form>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Conditions defined in the navigation elements can control the visibility or disable/enable editing of a page, a tab or a block.\nThe condition inside the ",(0,o.jsx)(n.code,{children:"<form>"}),'-tag is fulfilled if the required fields of the page "lastpage" are filled in otherwise the app bar button "Submit" is disabled. Assure the page\'s ID is set and unique.!']}),"\n",(0,o.jsx)(n.admonition,{title:"Info",type:"info",children:(0,o.jsxs)(n.p,{children:["You can only define ",(0,o.jsx)(n.strong,{children:"one"})," conditional state (",(0,o.jsx)(n.code,{children:"else"}),") per element but you can concenate several conditions by one operator (",(0,o.jsx)(n.code,{children:'"op":"and"'})," / ",(0,o.jsx)(n.code,{children:'"op":"or"'}),")."]})}),"\n",(0,o.jsx)(n.h2,{id:"conditions-within-a-block",children:"Conditions within a block"}),"\n",(0,o.jsxs)(n.p,{children:["Within a block conditions use the control ",(0,o.jsx)(n.code,{children:"HFWinJSCtrl.Condition"}),". This control can be set to HTML areas by using the ",(0,o.jsx)(n.code,{children:"<div/>"})," tag."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<div id="tab-block#1">\n    <div id="condition1" data-win-control="HFWinJSCtrl.Condition"\n        data-hf-condition=\'{ "cond": [ { "type": "field", "id": "testradio1", "val": "yes" } ] }\'>\n        <input id="text1" type="text" data-win-control="HFWinJSCtrl.TextField" />\n    </div>\n\n    <div id="condition2" data-win-control="HFWinJSCtrl.Condition"\n        data-hf-condition=\'{ "cond": [ { "type": "field", "id": "testradio1", "val": "no" } ] }\'>\n        <input id="text1" type="text" data-win-control="HFWinJSCtrl.TextField" />\n    </div>\n</div>\n'})}),"\n",(0,o.jsx)(n.p,{children:'For further details on the control please refer to the corresponding entry in the chapter "Form controls".'}),"\n",(0,o.jsx)(n.h2,{id:"conditions-within-a-field",children:"Conditions within a field"}),"\n",(0,o.jsxs)(n.p,{children:["Just add the ",(0,o.jsx)(n.code,{children:"data-hf-condition"})," attribute to the field:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<input id="text1" type="text" data-win-control="HFWinJSCtrl.TextField"\n    data-win-options="{ required: true }"\n    data-hf-condition=\'{ "cond": [ { "type": "field", "id": "testradio1", "val": "yes" } ],\n    "else": "optional" }\'>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The field is always visible, but if the property ",(0,o.jsx)(n.code,{children:"required"})," is set to true, its required state depends on the defined condition. If the condition is fullfilled, the field is required."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:' <div id="testcombobox"\n    data-win-control="HFWinJSCtrl.ComboBox"\n    data-win-options="{\n        label: \'Test conditions\',\n        minLength: 3,\n        dataTextField: \'name\',\n        dataValueField: \'code\',\n        dataSource: [\n            { name: \'Selection 1\', code: \'No. 01\' },\n            { name: \'Selection 2\', code: \'No. 02\' },\n            { name: \'Selection 3\', code: \'No. 03\' },\n            { name: \'Selection 41\', code: \'No. 04\' }\n        ],\n    }"></div>\n\n<input id="text2" type="text" data-win-control="HFWinJSCtrl.TextField"\n    data-win-options="{ required: true }"\n    data-hf-condition=\'{ \n        "cond": [{ \n            "type": "field", \n            "id": "testcombobox", \n            "val": "Selection 1" , \n            "op":"not"\n        }],\n        "else": "optional" \n    }\'>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["If the selected value of the ComboBox is ",(0,o.jsx)(n.strong,{children:"not"})," the defined value, the condition is fullfilled and the field is required."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<input id="text3" type="text" data-win-control="HFWinJSCtrl.TextField"\n    data-win-options="{ required: true }"\n    data-hf-condition=\'{ \n        "cond": [{ \n            "type": "field", \n            "id": "testcombobox", \n            "val": "1", \n            "op":"contains"\n        }],\n        "else": "optional" \n    }\'>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["If the selected value of the ComboBox ",(0,o.jsx)(n.strong,{children:"contains"})," the defined value ('Selection 1' or 'Selection 41'), the condition is fullfilled and the field is required."]}),"\n",(0,o.jsxs)(n.h2,{id:"conditions-with-multiple-states-elsecallback",children:["Conditions with multiple states (",(0,o.jsx)(n.code,{children:"elseCallback"}),")"]}),"\n",(0,o.jsx)(n.p,{children:'This function offers the possibility to different states of a structural element or control in line with "stages" in case of more than two possible values.'}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," This option is only an ",(0,o.jsx)(n.strong,{children:'"initial"'})," condition. The condition is not applied while editing!"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<li data-hf-title="Service Data" \n    data-hf-condition=\'{\n        "cond": [{ \n            "type": "stage", \n            "id":"S1", \n            "val": true \n        }], \n        "elseCallback": "HFFormdefinition.DemoQAStagesHelpers.getElseStatePage" \n    }\'>\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"export function getElseStatePage() {\n    let currStage = HybridForms.API.Stages.getFormStage();\n    // return 'readonly';\n    switch (currStage) {\n        case 'S3':\n            return 'readonly';\n        default:\n            return 'invisible';\n    }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The custom code example (",(0,o.jsx)(n.code,{children:"getElseStatePage()"}),") defines the ",(0,o.jsx)(n.code,{children:"default"}),"- state (",(0,o.jsx)(n.code,{children:"else-invisible"}),') and further else states of the page "Service data" depending on the active stage.']}),"\n",(0,o.jsx)(n.h2,{id:"nested-conditions",children:"Nested Conditions"}),"\n",(0,o.jsx)(n.p,{children:"This function offers the possibility to nest conditions to set up more complex conditions."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<li data-hf-title="Service Data" \n    data-hf-condition=\'{\n        "op": "or",\n        "cond": [{\n            "type": "stage",\n            "id": "ST1",\n            "val": true\n        }, {\n            "cond": [{\n                "type": "field",\n                "id": "address_zip_code"\n            }, {\n                "type": "field",\n                "id": "address_city"\n            }],\n            "nestedOp": "or"   \n        }],\n        "else": "invisible"\n    }\'>\n'})}),"\n",(0,o.jsx)(n.p,{children:"In the example above the condition validates to true if the form is in stage 1 or one of the two defined fields has a value."})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);