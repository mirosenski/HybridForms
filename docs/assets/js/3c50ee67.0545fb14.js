"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[70569],{4416:(e,t,n)=>{n.d(t,{A:()=>k,n:()=>q});var i=n(96540),a=n(26186),r=n(66801),o=n(51107),s=n(22375),l=n(28774);const d="headingWrapper_viav",c="subHeading_VpFi",p="optionWrapper_rgfQ",u="optionHeading_F865",m="optionDescription_SgL9",h="optionExample_imJ2",g="optionDetails_xihm",f="separator_qNd6",x="tableRow_H7Hk";var b=n(38193);let y=function(e){return e.STORAGE_CHANGED="storageChanged",e}({});const v=(e,t)=>{const[n,a]=(0,i.useState)(((e,t)=>b.A.canUseDOM&&localStorage.getItem(e)||t)(e,t));return(0,i.useEffect)((()=>{const t=t=>{t.detail.key===e&&a(t.detail.newValue)};return window.addEventListener(y.STORAGE_CHANGED,t),()=>{window.removeEventListener(y.STORAGE_CHANGED,t)}}),[]),n},j="buttonGroup_qkEZ",w="buttonGroup__button_W3AV";var S=n(74848);const _=e=>{const{storageKey:t,subHeading:n}=e,i=v(t||"optionsList_Props","list"),a=e=>{var n,i;n=t||"optionsList_Props",i=e,localStorage.setItem(n,i),window.dispatchEvent(new CustomEvent(y.STORAGE_CHANGED,{detail:{key:n,newValue:i}}))};return(0,S.jsxs)("div",{className:j,style:{marginBottom:n?"4px":"20px"},children:[(0,S.jsx)("button",{className:`${w} button button--sm ${"list"===i?"button--primary":"button--secondary"}`,onClick:()=>a("list"),title:"List view",children:(0,S.jsx)("i",{className:"fas fa-list"})}),(0,S.jsx)("button",{className:`${w} button button--sm ${"table"===i?"button--primary":"button--secondary"}`,onClick:()=>a("table"),title:"Table view",children:(0,S.jsx)("i",{className:"far fa-table"})})]})},F=e=>e.sort(((e,t)=>e.name.localeCompare(t.name))).sort(((e,t)=>e.required&&!t.required?-1:!e.required&&t.required?1:0)),q=e=>{e.options=F(e.options);let t=[];return e.heading&&(t=[{value:e.heading,id:(0,s.k)(e.heading),level:e.levelBase?e.levelBase:2}]),[...t,...e.options.map((t=>({value:`${t.name}${t.required?" *":""}`,id:`${t.idPrefix?`${t.idPrefix}-`:""}${t.name}`,level:e.levelBase?e.levelBase+1:3})))]},k=e=>{const{options:t,storageKey:n,levelBase:p,heading:u,subHeading:m,subHeadingLink:h,children:g}=e,f=v(n||"optionsList_Props","list"),x=(0,i.useMemo)((()=>F(t)),[t]);if(0===x.length)return null;let b="h2";return p&&(b=`h${p}`),(0,S.jsxs)(S.Fragment,{children:[u&&(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)(o.A,{as:b,id:(0,s.k)(u),className:"heading",style:{marginBottom:m?"4px":"20px"},children:u}),(0,S.jsx)(_,{storageKey:n,subHeading:Boolean(m)})]}),m&&(0,S.jsxs)("p",{className:c,children:[(0,S.jsx)(a.oz,{components:{a:T,p:"span"},rehypePlugins:[r.A],children:m})," ",h&&(0,S.jsx)(l.A,{href:h,children:"read more"})]}),g&&(0,S.jsx)(S.Fragment,{children:g}),("list"===f&&u||!u)&&(0,S.jsx)(N,{options:x}),"table"===f&&u&&(0,S.jsx)(A,{options:x})]})},N=e=>{const{options:t}=e;return(0,S.jsx)(S.Fragment,{children:t.map(((e,n)=>(0,S.jsxs)("div",{className:p,children:[(0,S.jsxs)(o.A,{as:"h3",id:`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`,className:u,children:[e.name,e.required&&(0,S.jsx)("small",{style:{fontWeight:"normal"},children:" - required"})]}),(0,S.jsx)("div",{className:m,children:(0,S.jsx)(a.oz,{components:{a:T,p:"span"},rehypePlugins:[r.A],children:e.description})}),(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"How to use:"})," ",(0,S.jsx)("div",{className:h,children:(0,S.jsx)(a.oz,{components:{a:T,p:"code"},rehypePlugins:[r.A],children:e.example})})]}),e.type&&(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Type:"})," ",(0,S.jsx)("code",{dangerouslySetInnerHTML:{__html:e.type}})]}),e.signature&&(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Signature:"})," ",(0,S.jsx)("code",{children:e.signature})]}),e.default&&(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Default:"})," ",(0,S.jsx)("code",{children:e.default})]})]}),n<t.length-1&&(0,S.jsx)("hr",{className:f})]},`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`)))})},A=e=>{const{options:t}=e;return(0,S.jsxs)("table",{children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Property"}),(0,S.jsx)("td",{children:"Type"}),(0,S.jsx)("td",{children:"How to use"}),(0,S.jsx)("td",{children:"Description"})]})}),(0,S.jsx)("tbody",{children:t.map((e=>(0,S.jsxs)("tr",{id:`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`,className:x,children:[(0,S.jsx)("td",{children:e.required?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("strong",{children:[e.name," *"]})}):(0,S.jsx)(S.Fragment,{children:e.name})}),(0,S.jsx)("td",{children:(0,S.jsx)("code",{dangerouslySetInnerHTML:{__html:e.type}})}),(0,S.jsx)("td",{children:(0,S.jsx)("div",{className:h,children:(0,S.jsx)(a.oz,{components:{a:T,p:"code"},rehypePlugins:[r.A],children:e.example})})}),(0,S.jsx)("td",{children:(0,S.jsx)(a.oz,{components:{a:T,p:"span"},rehypePlugins:[r.A],children:e.description})})]},`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`)))})]})},T=e=>{let{children:t,href:n}=e;return(0,S.jsx)(l.A,{to:n,children:t})}},22375:(e,t,n)=>{n.d(t,{I:()=>a,k:()=>i});const i=e=>e.replace(/[\s_]+/g,"-").toLowerCase(),a=function(e,t){void 0===t&&(t=!1);const[n,i,a,r]=e.replace(/^#?(?:(?:(..)(..)(..)(..)?)|(?:(.)(.)(.)(.)?))$/,"$1$5$5$2$6$6$3$7$7$4$8$8").match(/(..)/g).map((e=>parseInt("0x"+e)));return(~~(299*n)+~~(587*i)+~~(114*a))/1e3>=128||1+~(128/r)&&t?"#000":"#FFF"}},31390:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>f,frontMatter:()=>l,metadata:()=>i,options:()=>p,overlayOptions:()=>u,stampOptions:()=>m,toc:()=>h});const i=JSON.parse('{"id":"form-controls/signature","title":"Signature","description":"The signature element is a special inkControl element, which is stored in the ink format \\"ISF (Ink Serialized Format)\\" by Microsoft.","source":"@site/versioned_docs/version-9.5/form-controls/signature.mdx","sourceDirName":"form-controls","slug":"/form-controls/signature","permalink":"/docs/9.5/form-controls/signature","draft":false,"unlisted":false,"tags":[],"version":"9.5","frontMatter":{"title":"Signature"},"sidebar":"tutorialSidebar","previous":{"title":"SelectBox","permalink":"/docs/9.5/form-controls/selectbox"},"next":{"title":"Switch","permalink":"/docs/9.5/form-controls/switch"}}');var a=n(74848),r=n(28453),o=n(51107),s=n(4416);const l={title:"Signature"},d=void 0,c={},p=[{name:"background",type:"'string' | 'none'",example:"background: {{HFFormPath}}/signature-background.png",description:'Sets the background of the signature field. If "none" is the provided value, the signature gets a white background otherwise a reference to a formdefinition image should be provided. If image is not set the signature field gets the Hybrid Forms default signature background.',required:!1},{name:"clearButton",type:"boolean",example:"clearButton: true",description:"Defines a small button (x) on the bottom left of the picture with which the drawing can be deleted.",required:!1,default:"true"},{name:"disabled",type:"boolean",example:"disabled: true",description:'Set "true" whenever the Signature field should be disabled.',required:!1},{name:"doNotCopy",type:"boolean",example:"doNotCopy: true",description:'Set "true" whenever the field should get deleted if form is copied.',required:!1},{name:"forceUnsafe",type:"boolean",example:"forceUnsafe: true",description:"Allow the saving of the biometric data without Certificate. Caution! This saves sensitive data on the server without encryption. Should only used for testing or debugging!",required:!1},{name:"hidden",type:"boolean",example:"hidden: true",description:"Hide FormControl in Form.",required:!1},{name:"highAccuracyLocation",type:"boolean",example:"highAccuracyLocation: true",description:"Enables high accuracy when requesting the location.",required:!1,default:"true"},{name:"locationRequestTimeout",type:"number",example:"locationRequestTimeout: 5",description:"Sets the request timeout for the geolocation service in seconds.",required:!1,default:"10"},{name:"onChanged",type:"function",signature:"function(value: boolean) => void",example:"onChanged: HFFormdefinition.Namespace.Method",description:"Call a pre-defined JS-method to do something when the status of the control changes",required:!1},{name:"openInOverlay",type:"OverlayObject",example:'<a href="#overlay-object">openInOverlay: {...}</a>',description:"Define an object of type openInOverlay for displaying a signature ctrl in a separate dialog (i.e. form page overlay).",required:!1},{name:"printMetadata",type:"boolean",example:"printMetadata: true",description:"Set false if you do not want any Metadata added to the generated signature graphics. If set to false the options printMetadataParts will be ignored",required:!1,default:"true"},{name:"printMetadataParts",type:"('Location' | 'Signer' | 'ItemID' | 'DateTime')[]",example:"printMetadataParts: [&#39;Location&#39;, &#39;Signer&#39;,  &#39;ItemID&#39;, &#39;DateTime&#39;]",description:'Define the Metadata added to the generated signature graphics.\n        <ul style="padding-left: 26px">\n            <li><strong>Location</strong>: The coords will be added to the signature graphics. If no "Location" is contained in the printMetadata array, the location will not be collected.</li>\n            <li><strong>Signer</strong>: The signer&#39;s name will be added to the signature graphics.</li>\n            <li><strong>ItemID</strong>: A SHA256 base64 encoded checksum of the form data is added to the signature graphics.</li>\n            <li><strong>DateTime</strong>: The time stamp will be added to the signature graphics.</li>\n        </ul>',required:!1,default:"['Location', 'ItemID', 'DateTime']"},{name:"required",type:"boolean",example:"required: true",description:'Set "true" if the control has to be filled in.',required:!1},{name:"saveTimeout",type:"integer",example:"saveTimeout: 10",description:"Duration in seconds until the signature control is locked and saved.",required:!1,default:"5"},{name:"signingAsCallback",type:"function",signature:"function() => any",example:"signingAsCallback: HFFormdefinition.Namespace.getSigner",description:"Call the method you previously defined to write the signer&#39;s name within the signature field. This method is optional and needs to be coded first!",required:!1},{name:"signingFromFields",type:"string[]",example:"signingFromFields: [&#39;fieldId_01&#39;, &#39;fieldId_02&#39;]",description:"Write the signer&#39;s name (or some other additional infos) within the signature field. Optional.",required:!1},{name:"stamp",type:"StampObject",example:'<a href="#stamp-object">stamp: {...}</a>',description:"Define an object of type stamp for setting a stamp image on the signature background.",required:!1},{name:"tooltip",type:"string",example:"tooltip: &#39;Sign here!&#39;",description:"Write a comment to provide further information about the field. A question mark will then be shown within the label and with a click/tap on it, the information will occur.",required:!1},{name:"tooltipTemplate",type:"string",example:"tooltipTemplate: &#39;example_control_tooltip&#39;",description:"Write an id of a html container to provide further information about the field. A question mark will then be shown within the label and with a click/tap on it, the content of the container will occur.",required:!1}],u=[{name:"type",type:"'never' | 'always' | 'mobile'",example:"type: &#39;always&#39; / &#39;mobile&#39;",description:'Define the range of application - "always" to open the overlay to sign in all App versions and all devices or "mobile" to open the overlay only on mobile devices. "never" to use in-place Singature.',required:!0},{name:"rotateToLandscape",type:"boolean",example:"rotateToLandscape: false",description:"Define the behaviour of the overlay on mobile devices: prevent rotating the overlay to landscape by setting the option to false.",required:!1,default:"true"}],m=[{name:"url",type:"string",example:"url: &#39;{{HFFormPath}}/stamp-image.png&#39;",description:"The URL to the image that should be used as stamp. The image is resized automatically if it is to big, but it is recommended not to provide images bigger than 920px.",required:!0},{name:"alpha",type:"number",example:"alpha: 0.2",description:"Define the alpha value of the provided image. Provide a number between 0 (fully transparent) and 1 (not transparent).",required:!1}],h=[...(0,s.n)({options:p,heading:"FormControl Options"}),...(0,s.n)({options:u,heading:"Overlay Object"}),...(0,s.n)({options:m,heading:"Stamp Object"}),{value:"Stored data",id:"stored-data",level:2}];function g(e){const t={admonition:"admonition",br:"br",code:"code",em:"em",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:'The signature element is a special inkControl element, which is stored in the ink format "ISF (Ink Serialized Format)" by Microsoft.'}),"\n",(0,a.jsxs)(t.admonition,{title:"Info",type:"info",children:[(0,a.jsx)(t.p,{children:"For security and legal reasons the HybridForms App advises an encryption of the stored data.\nUnless a certificate is provided as part of your form definition a notification will appear each time a user signs."}),(0,a.jsx)(t.p,{children:"You can store your signaure data unencrypted, but in case of taking advantage of this security feature, please follow the instruction of the HFSQL Server administration guide, capitel 7 \u201eBiometric Signature Data\u201c for creating the necessary certificate or contact your HFSQL Server administrator."})]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",metastring:"showLineNumbers",children:"<div id=\"repair_customer_sign\" \n    data-win-control=\"HFWinJSCtrl.Signature\" \n    data-win-options=\"{\n        label: 'Customer\\'s signature',\n        required: true,\n        tooltip: 'Sign here!',\n        clearButton: true,\n        saveTimeout: 10,\n        openInOverlay: {\n            type: 'mobile',\n            rotateToLandscape: true\n        },\n        printMetadata: true,\n        printMetadataParts: ['Location', 'Signer', 'ItemID', 'DateTime'] \n    }\">\n</div>\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.img,{alt:"Signature",src:n(81272).A+"",width:"521",height:"220"}),(0,a.jsx)(t.br,{}),"\n",(0,a.jsx)(t.em,{children:"Signature"})]}),"\n",(0,a.jsx)(t.p,{children:'Instead of coding a "signingAsCallback" function you can also use the alternative option to fill in the signer\'s name:'}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",metastring:"showLineNumbers",children:"<div id=\"repair_customer_sign\" \n    data-win-control=\"HFWinJSCtrl.Signature\" \n    data-win-options=\"{\n        label: 'Customer\\'s signature',\n        ...,\n        signingFromFields: ['tab1_first_name', 'tab1_last_name'],\n        ...\n    }\"></div>\n"})}),"\n",(0,a.jsx)(s.A,{heading:"FormControl Options",options:p}),"\n",(0,a.jsx)(s.A,{heading:"Overlay Object",options:u}),"\n",(0,a.jsx)(s.A,{heading:"Stamp Object",options:m}),"\n",(0,a.jsx)(o.A,{as:"h2",id:"stored-data",children:"Stored data"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "repair_customer_sign",\n    "value": true\n}\n'})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "repair_customer_sign_HFInkImage",\n    "value": "repair_customer_sign.png"\n}\n'})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "repair_customer_sign_HFSignatureZip",\n    "value": "repair_customer_sign.zip"\n}\n'})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "repair_customer_sign_HFSignatureMetadata",\n    "value": {\n        "timestamp": "2018-07-03T14:37:01.802Z",\n        "geoposition": {\n            "latitude": 47.06734,\n            "longitude": 15.43349,\n            "accuracy": 20,\n            "accuracyFormatted": "~ 20 m",\n            "timestamp": "2018-07-03T14:36:51.292Z"\n        },\n        "signer": "Robert Simon",\n        "eventCounter": 190,\n        "itemid": "84395929-b38e-1a9f-ffac-b97ef6c9b4f2",\n        "formHash":"ZH82iLfZEfaxtceMMTECCRmwMOjZrB3ERm5tynSegPY=",\n        "timeunit": "milliseconds",\n        "input": "mouse"\n    }\n}\n'})})]})}function f(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},81272:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/signature-2982cce5745b545ec3005142c7ad4480.png"}}]);