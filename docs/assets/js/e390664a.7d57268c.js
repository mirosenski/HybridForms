"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[77297],{10356:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"custom-code-guide/js/controls","title":"Controls","description":"Custom Controls in HybridForms are specialized WinJS classes designed to enhance Form development by providing tailored functionality and visual components. Derived from HybridForms.API.UIControls.BaseControl, these controls have the capability to render HTML elements, manage events, and seamlessly integrate with the HybridForms framework.","source":"@site/versioned_docs/version-10.0/40-custom-code-guide/50-js/30-controls.mdx","sourceDirName":"40-custom-code-guide/50-js","slug":"/custom-code-guide/js/controls","permalink":"/docs/10.0/custom-code-guide/js/controls","draft":false,"unlisted":false,"tags":[],"version":"10.0","sidebarPosition":30,"frontMatter":{"title":"Controls"},"sidebar":"tutorialSidebar","previous":{"title":"Functions","permalink":"/docs/10.0/custom-code-guide/js/functions"},"next":{"title":"Custom Styling Guide","permalink":"/docs/10.0/category/custom-styling-guide"}}');var o=t(74848),s=t(28453),i=t(11470),a=t(19365);const l={title:"Controls"},d="Controls",c={},u=[{value:"Integration within the HTML",id:"integration-within-the-html",level:2},{value:"Example usage in TypeScript and HTML",id:"example-usage-in-typescript-and-html",level:2}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"controls",children:"Controls"})}),"\n",(0,o.jsxs)(n.p,{children:["Custom Controls in HybridForms are specialized WinJS classes designed to enhance Form development by providing tailored functionality and visual components. Derived from ",(0,o.jsx)(n.code,{children:"HybridForms.API.UIControls.BaseControl"}),", these controls have the capability to render HTML elements, manage events, and seamlessly integrate with the HybridForms framework."]}),"\n",(0,o.jsx)(n.p,{children:"Key features of Custom Controls include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"HTML Rendering"}),": Custom Controls can generate HTML elements dynamically, allowing for the creation of customized user interfaces tailored to specific Form requirements."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Event Management"}),": These controls are equipped with event registration and deregistration mechanisms, enabling developers to handle user interactions and trigger actions within the Form."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Modularity"}),": Custom Controls promote code modularity and reusability by encapsulating functionality within self-contained WinJS classes. This modular approach simplifies Form development and maintenance, enhancing overall code organization and readability."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"By leveraging Custom Controls, developers can extend the capabilities of HybridForms, streamline Form development workflows, and create rich, interactive user experiences tailored to their unique requirements."}),"\n",(0,o.jsx)(n.h2,{id:"integration-within-the-html",children:"Integration within the HTML"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:'<div\n    id="custom_control_id"\n    class="pdf-hide"\n    data-hf-control="HFFormdefinition.SomeNamespace.CustomControlName"\n    data-hf-options="{\n        prop1: \'value1\'\n    }"\n></div>\n'})}),"\n",(0,o.jsxs)(n.admonition,{title:"Note",type:"tip",children:[(0,o.jsx)(n.p,{children:"IMPORTANT FACTS"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["All registered event handlers have to get deregistered (dispose pattern) when the Form is left. Therefore you have to implement your ",(0,o.jsx)(n.code,{children:"dispose()"})," method within your control."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["It is recommended that all Custom Controls derive from the HybridForms BaseControl ",(0,o.jsx)(n.code,{children:"HybridForms.API.UIControls.BaseControl"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["This control adds the ",(0,o.jsx)(n.code,{children:"win-disposable"})," class to the HTML markup and calls the dispose method when leaving the page."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Override the ",(0,o.jsx)(n.code,{children:"dispose"}),"-method where to remove all previously registered event handlers."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,o.jsx)(n.h2,{id:"example-usage-in-typescript-and-html",children:"Example usage in TypeScript and HTML"}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{value:"ts",label:"JavaScript",default:!0,children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",metastring:"showLineNumbers",children:"CustomControl: WinJS.Class.derive(\n    HybridForms.API.UIControls.BaseControl,\n    function (element, options) {\n        HybridForms.API.UIControls.BaseControl.call(this, element, options);\n    },\n    {\n        // instance properties\n        _onRendered: null,\n        publicProp1: null,\n\n        // instance methods\n        _init: function (element) {\n            // _init Method gets called in BaseControl.\n            // call the BaseControl _init Method with the call-Method\n            HybridForms.API.UIControls.BaseControl.prototype._init.call(this, element);\n        },\n\n        createControl: function () {\n            // will be called by base class\n            console.log('createControl');\n\n            // return a promise here, when all ui relevant work is done!\n            return Promise.resolve();\n        },\n\n        registerEvents: function () {\n            // will be called by base class\n            // registerEvents here\n            console.log('registerEvents');\n\n            this._onRendered = function () {\n                console.log('form is rendered and ready');\n            };\n            HybridForms.API.Page.addEventListener('rendered', this._onRendered);\n            HybridForms.API.Page.addEventListener('viewrendered', this._onRendered);\n        },\n\n        dispose: function () {\n            if (this.disposed) {\n                return;\n            }\n\n            // dispose registered events here\n            if (this.onRendered) {\n                HybridForms.API.Page.removeEventListener('rendered', this._onRendered);\n                HybridForms.API.Page.removeEventListener('viewrendered', this._onRendered);\n            }\n\n            this.disposed = true;\n        },\n    },\n    {\n        //Static methods\n    },\n);\n"})})}),(0,o.jsx)(a.A,{value:"html",label:"HTML",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:'<div\n    id="derived_custom_control"\n    data-hf-control="HFFormdefinition.SomeNamespace.CustomControl"\n    data-hf-options="{\n        publicProp1: \'foo\'\n    }"\n></div>\n'})})})]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},11470:(e,n,t)=>{t.d(n,{A:()=>C});var r=t(96540),o=t(34164),s=t(23104),i=t(56347),a=t(205),l=t(57485),d=t(31682),c=t(89466);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const o=(0,i.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(o.location.search);n.set(s,e),o.replace({...o.location,search:n.toString()})}),[s,o])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,s=h(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[d,u]=p({queryString:t,groupId:o}),[f,v]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,s]=(0,c.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:o}),b=(()=>{const e=d??f;return m({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{b&&l(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),v(e)}),[u,v,s]),tabValues:s}}var v=t(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function y(e){let{className:n,block:t,selectedValue:r,selectValue:i,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),o=a[t].value;o!==r&&(d(n),i(o))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...s,className:(0,o.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function x(e){let{lazy:n,children:t,selectedValue:s}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function j(e){const n=f(e);return(0,g.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,g.jsx)(y,{...n,...e}),(0,g.jsx)(x,{...n,...e})]})}function C(e){const n=(0,v.A)();return(0,g.jsx)(j,{...e,children:u(e.children)},String(n))}},19365:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var r=t(34164);const o={tabItem:"tabItem_Ymn6"};var s=t(74848);function i(e){let{children:n,hidden:t,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,i),hidden:t,children:n})}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(96540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);