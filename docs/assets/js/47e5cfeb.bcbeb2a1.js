"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[96484],{3851:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"form-controls/drawingcontrol","title":"DrawingControl","description":"The DrawingControl is a control element that allows the user to draw on a given image.","source":"@site/versioned_docs/version-10.0/30-form-controls/drawingcontrol.mdx","sourceDirName":"30-form-controls","slug":"/form-controls/drawingcontrol","permalink":"/docs/10.0/form-controls/drawingcontrol","draft":false,"unlisted":false,"tags":[],"version":"10.0","frontMatter":{"title":"DrawingControl"},"sidebar":"tutorialSidebar","previous":{"title":"DateTimePicker","permalink":"/docs/10.0/form-controls/datetimepicker"},"next":{"title":"DropDownList","permalink":"/docs/10.0/form-controls/dropdownlist"}}');var i=t(74848),o=t(28453),a=t(51107),s=t(4416);const l=[{name:"width",type:"number",example:"width: 226",description:"Needs to be set for this control to define the width of the field. The value is in pixels. The maximum is always 460 px.",required:!1},{name:"height",type:"number",example:"height: 280",description:"Needs to be set for this control to define the height of the field. The value is defined in pixels.",required:!1},{name:"responsive",type:"boolean",example:"responsive: true",description:'Set "true" whenever the DrawingControl should be responsive. It overwrites given width and height values.',required:!1},{name:"disabled",type:"boolean",example:"disabled: true",description:'Set "true" whenever the DrawingControl should be disabled.',required:!1},{name:"doNotCopy",type:"boolean",example:"doNotCopy: true",description:'Set "true" whenever the field should get deleted if the Form is copied.',required:!1},{name:"hidden",type:"boolean",example:"hidden: true",description:"Hide FormControl in Form.",required:!1},{name:"image",type:"string",example:"image: &#39;{{HFFormPath}}/watermeter.png&#39;",description:"Write down the path to connect the field with your picture. The first part of the path represents a placeholder and will be changed at runtime.",required:!0},{name:"label",type:"string",example:"label: &#39;Mark damage with pen&#39;",description:"Define a label for your control element.",required:!1},{name:"required",type:"boolean",example:"required: true",description:'Set "true" if the control has to be filled in.',required:!1},{name:"tooltip",type:"string",example:"tooltip: &#39;Please indicate at least one cause of damage.&#39;",description:"Write a comment to provide further information about the field. A question mark will then be shown within the label and with a click/tap on it, the information will occur.",required:!1},{name:"tooltipTemplate",type:"string",example:"tooltipTemplate: &#39;example_control_tooltip&#39;",description:"Write an ID of an HTML container to provide further information about the field. A question mark will then be shown within the label and with a click/tap on it, the content of the container will occur.",required:!1},{name:"onChanged",type:"function",signature:"function(value: boolean) => void",example:"onChanged: HFFormdefinition.Namespace.Method",description:"Call a pre-defined JS-method to do something when the status of the control changes.",required:!1}];const d={title:"DrawingControl"},c=void 0,h={},m=[...(0,s.n)({options:l,heading:"FormControl Options"}),{value:"Stored data",id:"stored-data",level:2}];function p(e){const n={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The DrawingControl is a control element that allows the user to draw on a given image.\nThis can be used to mark damages on a picture."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:'<div\n    id="mark_damage"\n    data-hf-control="DrawingControl"\n    data-hf-options="{\n        label: \'Mark damage with pen\',\n        width: 226,\n        height: 270,\n        image: \'{{HFFormPath}}/watermeter.png\',\n        required: true \n    }"\n></div>\n'})}),"\n",(0,i.jsx)(s.A,{heading:"FormControl Options",options:l}),"\n",(0,i.jsx)(a.A,{as:"h2",id:"stored-data",children:(0,i.jsx)(n.p,{children:"Stored data"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:'<div\n    id="mark_damage"\n    data-hf-control="DrawingControl"\n    data-hf-options="{\n        width: 226,\n        height: 270,\n        image: \'{{HFFormPath}}/watermeter.png\',\n        required: true \n    }"\n></div>\n'})}),"\n",(0,i.jsx)(n.p,{children:"For each DrawingControl inside your Forms there are several value pairs of stored data:"}),"\n",(0,i.jsx)(n.p,{children:"The first two value pairs are the default data to be stored \u2013 the first pair indicates the DrawingControl has been used \u2026"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "mark_damage",\n    "value": true\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u2026 and the second pair stores the information on the created image:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "mark_damage_HFDrawingImageMerged",\n    "value": "mark_damage_merged.png"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Finally, the third pair stores the information of the strokes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "id": "mark_damage_HFDrawingStrokes",\n    "value": "fabric.Objects"\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},4416:(e,n,t)=>{t.d(n,{A:()=>C,n:()=>k});var r=t(96540),i=t(26186),o=t(66801),a=t(51107),s=t(22375),l=t(28774);const d="headingWrapper_viav",c="subHeading_VpFi",h="optionWrapper_rgfQ",m="optionHeading_F865",p="optionDescription_SgL9",u="optionExample_imJ2",g="optionDetails_xihm",x="separator_qNd6",f="tableRow_H7Hk";var j=t(38193);let w=function(e){return e.STORAGE_CHANGED="storageChanged",e}({});const v=(e,n)=>{const[t,i]=(0,r.useState)(((e,n)=>j.A.canUseDOM&&localStorage.getItem(e)||n)(e,n));return(0,r.useEffect)((()=>{const n=n=>{n.detail.key===e&&i(n.detail.newValue)};return window.addEventListener(w.STORAGE_CHANGED,n),()=>{window.removeEventListener(w.STORAGE_CHANGED,n)}}),[]),t},b="buttonGroup_qkEZ",y="buttonGroup__button_W3AV";var N=t(74848);const _=e=>{const{storageKey:n,subHeading:t}=e,r=v(n||"optionsList_Props","list"),i=e=>{var t,r;t=n||"optionsList_Props",r=e,localStorage.setItem(t,r),window.dispatchEvent(new CustomEvent(w.STORAGE_CHANGED,{detail:{key:t,newValue:r}}))};return(0,N.jsxs)("div",{className:b,style:{marginBottom:t?"4px":"20px"},children:[(0,N.jsx)("button",{className:`${y} button button--sm ${"list"===r?"button--primary":"button--secondary"}`,onClick:()=>i("list"),title:"List view",children:(0,N.jsx)("i",{className:"fas fa-list"})}),(0,N.jsx)("button",{className:`${y} button button--sm ${"table"===r?"button--primary":"button--secondary"}`,onClick:()=>i("table"),title:"Table view",children:(0,N.jsx)("i",{className:"far fa-table"})})]})},$=e=>e.sort(((e,n)=>e.name.localeCompare(n.name))).sort(((e,n)=>e.required&&!n.required?-1:!e.required&&n.required?1:0)),k=e=>{e.options=$(e.options);let n=[];return e.heading&&(n=[{value:e.heading,id:(0,s.k)(e.heading),level:e.levelBase?e.levelBase:2}]),[...n,...e.options.map((n=>({value:`${n.name}${n.required?" *":""}`,id:`${n.idPrefix?`${n.idPrefix}-`:""}${n.name}`,level:e.levelBase?e.levelBase+1:3})))]},C=e=>{const{options:n,storageKey:t,levelBase:h,heading:m,subHeading:p,subHeadingLink:u,children:g}=e,x=v(t||"optionsList_Props","list"),f=(0,r.useMemo)((()=>$(n)),[n]);if(0===f.length)return null;let j="h2";return h&&(j=`h${h}`),(0,N.jsxs)(N.Fragment,{children:[m&&(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)(a.A,{as:j,id:(0,s.k)(m),className:"heading",style:{marginBottom:p?"4px":"20px"},children:m}),(0,N.jsx)(_,{storageKey:t,subHeading:Boolean(p)})]}),p&&(0,N.jsxs)("p",{className:c,children:[(0,N.jsx)(i.oz,{components:{a:D,p:"span"},rehypePlugins:[o.A],children:p})," ",u&&(0,N.jsx)(l.A,{href:u,children:"read more"})]}),g&&(0,N.jsx)(N.Fragment,{children:g}),("list"===x&&m||!m)&&(0,N.jsx)(F,{options:f}),"table"===x&&m&&(0,N.jsx)(q,{options:f})]})},F=e=>{const{options:n}=e;return(0,N.jsx)(N.Fragment,{children:n.map(((e,t)=>(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)(a.A,{as:"h3",id:`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`,className:m,children:[e.name,e.required&&(0,N.jsx)("small",{style:{fontWeight:"normal"},children:" - required"})]}),(0,N.jsx)("div",{className:p,children:(0,N.jsx)(i.oz,{components:{a:D,p:"span"},rehypePlugins:[o.A],children:e.description})}),(0,N.jsxs)("div",{className:g,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"How to use:"})," ",(0,N.jsx)("div",{className:u,children:(0,N.jsx)(i.oz,{components:{a:D,p:"code"},rehypePlugins:[o.A],children:e.example})})]}),e.type&&(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"Type:"})," ",(0,N.jsx)("code",{dangerouslySetInnerHTML:{__html:e.type}})]}),e.signature&&(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"Signature:"})," ",(0,N.jsx)("code",{children:e.signature})]}),e.default&&(0,N.jsxs)("div",{children:[(0,N.jsx)("strong",{children:"Default:"})," ",(0,N.jsx)("code",{children:e.default})]})]}),t<n.length-1&&(0,N.jsx)("hr",{className:x})]},`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`)))})},q=e=>{const{options:n}=e;return(0,N.jsxs)("table",{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:"Property"}),(0,N.jsx)("td",{children:"Type"}),(0,N.jsx)("td",{children:"How to use"}),(0,N.jsx)("td",{children:"Description"})]})}),(0,N.jsx)("tbody",{children:n.map((e=>(0,N.jsxs)("tr",{id:`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`,className:f,children:[(0,N.jsx)("td",{children:e.required?(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("strong",{children:[e.name," *"]})}):(0,N.jsx)(N.Fragment,{children:e.name})}),(0,N.jsx)("td",{children:(0,N.jsx)("code",{dangerouslySetInnerHTML:{__html:e.type}})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:u,children:(0,N.jsx)(i.oz,{components:{a:D,p:"code"},rehypePlugins:[o.A],children:e.example})})}),(0,N.jsx)("td",{children:(0,N.jsx)(i.oz,{components:{a:D,p:"span"},rehypePlugins:[o.A],children:e.description})})]},`${e.idPrefix?`${e.idPrefix}-`:""}${e.name}`)))})]})},D=e=>{let{children:n,href:t}=e;return(0,N.jsx)(l.A,{to:t,children:n})}},22375:(e,n,t)=>{t.d(n,{I:()=>i,k:()=>r});const r=e=>e.replace(/[\s_]+/g,"-").toLowerCase(),i=function(e,n){void 0===n&&(n=!1);const[t,r,i,o]=e.replace(/^#?(?:(?:(..)(..)(..)(..)?)|(?:(.)(.)(.)(.)?))$/,"$1$5$5$2$6$6$3$7$7$4$8$8").match(/(..)/g).map((e=>parseInt("0x"+e)));return(~~(299*t)+~~(587*r)+~~(114*i))/1e3>=128||1+~(128/o)&&n?"#000":"#FFF"}}}]);