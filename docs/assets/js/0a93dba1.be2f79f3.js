"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[89310],{15074:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"js-guide/javascript/jscustomcontrols","title":"Create Custom Controls","description":"Integration within the HTML","source":"@site/versioned_docs/version-9.2/js-guide/20-javascript/30-jscustomcontrols.md","sourceDirName":"js-guide/20-javascript","slug":"/js-guide/javascript/jscustomcontrols","permalink":"/docs/9.2/js-guide/javascript/jscustomcontrols","draft":false,"unlisted":false,"tags":[],"version":"9.2","sidebarPosition":30,"frontMatter":{"title":"Create Custom Controls"},"sidebar":"tutorialSidebar","previous":{"title":"onChanged event handler","permalink":"/docs/9.2/js-guide/javascript/jsonchanged"},"next":{"title":"TypeScript","permalink":"/docs/9.2/category/typescript"}}');var s=t(74848),r=t(28453);const i={title:"Create Custom Controls"},l="Create Custom Controls",d={},a=[{value:"Integration within the HTML",id:"integration-within-the-html",level:2},{value:"Coding examples",id:"coding-examples",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"create-custom-controls",children:"Create Custom Controls"})}),"\n",(0,s.jsx)(n.h2,{id:"integration-within-the-html",children:"Integration within the HTML"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div id="custom_control_id" class="pdf-hide" data-win-control="HFFormdefinition.SomeNamespace.CustomControlName"\n    data-win-options="{\n        prop1: \'value1\'\n    }">\n</div>\n'})}),"\n",(0,s.jsxs)(n.admonition,{title:"Note",type:"tip",children:[(0,s.jsx)(n.p,{children:"The class \u201chide-in-pdf\u201d is necessary to prevent the PDF parser from parsing this Custom Control, which would not work in that case.\nIMPORTANT FACTS"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["All registered event handlers have to get deregistered (dispose pattern) when the form is left. Therefore you have to implement your ",(0,s.jsx)(n.code,{children:"dispose()"})," method within your control."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["It is recommended that all custom controls derive from the HybridForms BaseControl ",(0,s.jsx)(n.code,{children:"HybridForms.API.UIControls.BaseControl"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["This control adds the ",(0,s.jsx)(n.code,{children:"win-disposable"})," class to the html markup and calls the dispose method when leaving the page."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Override the ",(0,s.jsx)(n.code,{children:"dispose"}),"-method where to remove all previously registered event handlers."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.h2,{id:"coding-examples",children:"Coding examples"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Example of a simple custom control that derives from BaseControl"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div id="derived_custom_control" \n        data-win-control="HFFormdefinition.SomeNamespace.CustomControl"\n        data-win-options="{\n            publicProp1: \'foo\'\n        }">\n</div>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"CustomControl: WinJS.Class.derive(\n    HybridForms.API.UIControls.BaseControl,\n    function(element, options) {\n        HybridForms.API.UIControls.BaseControl.call(this, element, options);\n    },\n    {\n        // instance properties\n        _onRendered: null,\n        publicProp1: null,\n\n        // instance methods\n        _init: function(element) {\n            // _init Method gets called in BaseControl.\n            // call the BaseControl _init Method with the call-Method\n            HybridForms.API.UIControls.BaseControl.prototype._init.call(this, element);\n        },\n\n        createControl: function() { // will be called by base class\n            console.log('createControl');\n\n            // return a promise here, when all ui relevant work is done!\n            return Promise.resolve();\n        },\n    \n        registerEvents: function() { // will be called by base class\n            // registerEvents here\n            console.log('registerEvents');\n            \n            this._onRendered = function () {\n                console.log('form is rendered and ready');\n            };\n            HybridForms.API.Page.addEventListener('rendered', this._onRendered);\n            HybridForms.API.Page.addEventListener('viewrendered', this._onRendered);\n        },\n\n        dispose: function() {\n            if (this.disposed) {\n                return;\n            }\n\n            // dispose registered events here\n            if (this.onRendered) {\n                HybridForms.API.Page.removeEventListener('rendered', this._onRendered);\n                HybridForms.API.Page.removeEventListener('viewrendered', this._onRendered);\n            }\n\n            this.disposed = true;\n        }\n    },\n    {\n        //Static methods\n    },\n)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var o=t(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);