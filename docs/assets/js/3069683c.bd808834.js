"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[24865],{28453:(e,t,r)=>{r.d(t,{R:()=>d,x:()=>o});var n=r(96540);const s={},i=n.createContext(s);function d(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(i.Provider,{value:t},e.children)}},45964:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"formdev/backend","title":"Local Backend","description":"Mimic a HybridForms server locally. An Express NodeJS server is used to enable the web client of HybridForms to work properly.","source":"@site/versioned_docs/version-10.1/10-formdev/30-backend.md","sourceDirName":"10-formdev","slug":"/formdev/backend","permalink":"/docs/formdev/backend","draft":false,"unlisted":false,"tags":[],"version":"10.1","sidebarPosition":30,"frontMatter":{"title":"Local Backend"},"sidebar":"tutorialSidebar","previous":{"title":"Dev Tools","permalink":"/docs/formdev/devtools"},"next":{"title":"Form Templates","permalink":"/docs/category/form-templates"}}');var s=r(74848),i=r(28453);const d={title:"Local Backend"},o="Local Backend",a={},l=[{value:"Mimic Form Template Server Configurations - index.json",id:"mimic-form-template-server-configurations---indexjson",level:2},{value:"Flags",id:"flags",level:3},{value:"Mimic APP Settings Server Configurations - appSettings.json",id:"mimic-app-settings-server-configurations---appsettingsjson",level:2},{value:"Catalogs",id:"catalogs",level:3},{value:"Proxy",id:"proxy",level:2},{value:"Usage",id:"usage",level:3},{value:"Stages",id:"stages",level:2}];function c(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"local-backend",children:"Local Backend"})}),"\n",(0,s.jsxs)(t.p,{children:["Mimic a HybridForms server locally. An Express NodeJS server is used to enable the web client of HybridForms to work properly.",(0,s.jsx)(t.br,{}),"\n","It is running on ",(0,s.jsx)(t.code,{children:"localhost:8182"}),", be aware not to block this port with another service."]}),"\n",(0,s.jsxs)(t.p,{children:["The service is automatically started together with the web client by running ",(0,s.jsx)(t.code,{children:"npm start"})," in the root folder.\nThis process looks for Form Template folders in the ",(0,s.jsx)(t.code,{children:"form-templates"})," subfolder.\nThis path can be configured by applying additional flags."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"--path [path to Form Templates]"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"--include [Form Template to be included in the service]"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:"showLineNumbers",children:"npm start -- --path ../../change-default-folder/form-templates/ --include TestForm\n"})}),"\n",(0,s.jsx)(t.h2,{id:"mimic-form-template-server-configurations---indexjson",children:"Mimic Form Template Server Configurations - index.json"}),"\n",(0,s.jsxs)(t.p,{children:["Every Form Template folder can have an ",(0,s.jsx)(t.code,{children:"index.json"})," file. It is used to mimic Form Template server settings during development."]}),"\n",(0,s.jsx)(t.admonition,{title:"Note",type:"tip",children:(0,s.jsx)(t.p,{children:"Changes to the file are only applied after restart of the formDev."})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="example index.json" showLineNumbers',children:'{\n    "title": "Example",\n    "culture": "en-US",\n    "attachments": [],\n    "flags": {\n        "FormDev.PDFDebug": false,\n        "Form.New": true,\n        "Form.Delete": true,\n        "Form.Copy": true,\n        "Form.ReturnToGroup": true,\n        "Form.CopySubmitted": false,\n        "Form.View": true,\n        "Feature.Picture": true,\n        "Feature.Sketch": true,\n        "Feature.CustomSketchTemplate": true,\n        "Feature.Audio": true,\n        "Feature.Map": true,\n        "Feature.Document": true,\n        "Form.LazyLoading": false,\n        "Feature.showDetail": true,\n        "PDF": true,\n        "PDF.Picture": true,\n        "PDF.Sketch": true,\n        "PDF.Audio": true,\n        "PDF.Map": true,\n        "PDF.Document": true,\n        "PDF.PageCounter": true,\n        "Picture.ReadOnly": false,\n        "Sketch.ReadOnly": false,\n        "Audio.ReadOnly": false,\n        "Map.ReadOnly": false,\n        "Document.ReadOnly": false,\n        "Listpage.SortGroupFilter": false,\n        "Form.ListPageFavorites": true,\n        "Form.ScanSearch": false\n    },\n    "catalogs": {\n        "useProxy": true,\n        "useOdataProxy": true,\n        "host": "example.hybridforms.net"\n    }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"How to use"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"title"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"title": "Example"'})}),(0,s.jsx)(t.td,{children:"The displayed Form title in the App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"culture"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"culture": "en-US"'})}),(0,s.jsx)(t.td,{children:"Set the Form culture."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"attachments"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"\"attachments\": ['testfile.html']"})}),(0,s.jsx)(t.td,{children:"Specify all used files for the Form Template. If property is not set or the array is empty, all files are used."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"flags"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"flags": { "FormDev.PDFDebug": true }'})}),(0,s.jsxs)(t.td,{children:["Set Form flags for PDF debugging. ",(0,s.jsx)(t.a,{href:"#flags",children:"Read more"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"catalogs"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"catalogs": { "host": "example.hybridforms.net" }'})}),(0,s.jsxs)(t.td,{children:["Configure catalogs proxy. ",(0,s.jsx)(t.a,{href:"#catalogs",children:"Read more"})]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"flags",children:"Flags"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FormDev.PDFDebug"}),(0,s.jsx)(t.td,{children:"Start a headful chromium instance after Form PDF is rendered to debug CSS stylings."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.New"}),(0,s.jsx)(t.td,{children:"Allow users to create new Forms in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.Delete"}),(0,s.jsx)(t.td,{children:"Allow users to delete Forms in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.Copy"}),(0,s.jsx)(t.td,{children:"Allow Form copying in the HybridForms App. A new Form is created and populated with the data. If several stages are defined, the new Form is created in Stage 1."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.ReturnToGroup"}),(0,s.jsx)(t.td,{children:'Enable "Back to group" function for Forms in the HybridForms App.'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.CopySubmitted"}),(0,s.jsx)(t.td,{children:"Allow copies of approved Forms in the HybridForms App. A new Form is created and populated with the data. If several stages are defined, the new Form is created in Stage 1."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.View"}),(0,s.jsx)(t.td,{children:"Enabling Form preview in the HybridForms App. The preview shows how the Form will look like in the PDF version. Note: This is a developer feature and should be disabled in the production environment."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.Picture"}),(0,s.jsx)(t.td,{children:"Enable the Picture feature in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.Sketch"}),(0,s.jsx)(t.td,{children:"Enable the Sketch feature in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.CustomSketchTemplate"}),(0,s.jsx)(t.td,{children:"Enable the option to use images from the Picture and Maps feature as sketch templates."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.Audio"}),(0,s.jsx)(t.td,{children:"Enable the Audio feature in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.Map"}),(0,s.jsx)(t.td,{children:"Enable the Maps feature in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.Document"}),(0,s.jsx)(t.td,{children:"Enable the Document feature in the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Feature.showDetail"}),(0,s.jsx)(t.td,{children:"After creating or uploading an image/sketch/audio/map/file element in the HybridForms App, the detail page opens. If not active, e.g. several photos can be taken one after another without a detail dialog."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF"}),(0,s.jsx)(t.td,{children:"Enable PDF creation."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.Picture"}),(0,s.jsx)(t.td,{children:"Images with the detailed information are attached to the Form pages in the PDF by default."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.Sketch"}),(0,s.jsx)(t.td,{children:"Sketches with the detailed information are attached to the Form pages in the PDF by default."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.Audio"}),(0,s.jsx)(t.td,{children:"Audio detail information is appended to the Form pages in the PDF by default."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.Map"}),(0,s.jsx)(t.td,{children:"Maps with the detailed information are attached to the Form pages in the PDF by default."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.Document"}),(0,s.jsx)(t.td,{children:"Document detail information is appended to the Form pages in the PDF by default."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PDF.PageCounter"}),(0,s.jsx)(t.td,{children:"Activate page numbering in the PDF file."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Picture.ReadOnly"}),(0,s.jsx)(t.td,{children:"Disable the camera/upload and editing features in the Picture feature."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Sketch.ReadOnly"}),(0,s.jsx)(t.td,{children:"Disabling the ability to draw and edit in the Sketch feature."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Audio.ReadOnly"}),(0,s.jsx)(t.td,{children:"Disabling the recording and uploading option in the Audio Feature."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Map.ReadOnly"}),(0,s.jsx)(t.td,{children:"Disabling the ability to create and edit in the Maps feature."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document.ReadOnly"}),(0,s.jsx)(t.td,{children:"Disabling the upload option in the Document feature."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Listpage.SortGroupFilter"}),(0,s.jsx)(t.td,{children:"Enabling Form sorting feature, grouping feature, filtering feature and action submenu on Form listing page in HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.LazyLoading"}),(0,s.jsx)(t.td,{children:"Show Form as soon as first page is available."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.ListPageFavorites"}),(0,s.jsx)(t.td,{children:"Creation of favorites for the presentation of the objects on the Form listing page of the HybridForms App."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Form.ScanSearch"}),(0,s.jsx)(t.td,{children:"Enable use of barcode scans for search function on Form listing page."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"mimic-app-settings-server-configurations---appsettingsjson",children:"Mimic APP Settings Server Configurations - appSettings.json"}),"\n",(0,s.jsxs)(t.p,{children:["The appSettings.json file is located in the root folder of the formDev environment. This file allows you to configure App settings which are typically provided by the server and managed by the Admin UI in ",(0,s.jsx)(t.strong,{children:"Core Server > App Settings"}),".\nWe include a default appSettings.json file within the formDev build. You can modify or add additional settings as needed. After changing the appSettings.json file, make sure to terminate the current formDev session and restart it to apply the updates."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="Default APP Settings in formDev"',children:'{\n    "googleMapsApiKey": {\n        "label": "Google Maps Key",\n        "placeholder": null,\n        "value": "[GOOGLE_MAPS_API_KEY]",\n        "visibility": "ok"\n    },\n    "hfMap-MapLibreBaseMap": {\n        "label": "MapLibre BaseMap",\n        "placeholder": null,\n        "value": {\n            "provider": "MapLibreGL",\n            "mapConfig": {\n                "center": [15.439504, 47.070713],\n                "zoom": 14\n            },\n            "features": {\n                "setMarkers": true,\n                "toggleLayerVisibility": true,\n                "directions": true,\n                "drawing": true\n            },\n            "controls": {\n                "geolocation": true,\n                "mapNavigation": true\n            }\n        },\n        "visibility": "ok"\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"catalogs",children:"Catalogs"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"How to use"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"host"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"host": "example.hybridforms.net"'})}),(0,s.jsxs)(t.td,{children:["Set the host server for the reverse proxy server from which to retrieve the catalogs. ",(0,s.jsx)(t.a,{href:"#proxy",children:"More details"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"useProxy"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"useProxy": true'})}),(0,s.jsxs)(t.td,{children:["Enable/disable catalogs from proxy for ComboBox and DropDownList with ",(0,s.jsx)(t.code,{children:"url"})," property set. Default value is ",(0,s.jsx)(t.code,{children:"false"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"useOdataProxy"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"useOdataProxy": false'})}),(0,s.jsxs)(t.td,{children:["Enable/disable catalogs from proxy for ComboBox and DropDownList with OData source. Default value is ",(0,s.jsx)(t.code,{children:"true"})]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"proxy",children:"Proxy"}),"\n",(0,s.jsx)(t.p,{children:"The formDev service allows the use of a reverse proxy to make requests against a real HybridForms Backend.\nIt can be helpful to retrieve online catalogs."}),"\n",(0,s.jsx)(t.h3,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(t.p,{children:["To use the reverse proxy, the request URL must look like this:",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.code,{children:"http://localhost:8182/proxy/<HybridForms host>/<request url>"})]}),"\n",(0,s.jsxs)(t.p,{children:["Most of the time an authentication is required.\nThe credentials to achieve this must be placed in a ",(0,s.jsx)(t.code,{children:"credentials.json"})," in the root of the project.\nIt must contain an ",(0,s.jsx)(t.code,{children:"accountName"})," and ",(0,s.jsx)(t.code,{children:"password"})," field with a ",(0,s.jsx)(t.strong,{children:"base64 encoded"})," password."]}),"\n",(0,s.jsx)(t.admonition,{title:"Very Important",type:"danger",children:(0,s.jsxs)(t.p,{children:["The file is ignored by Git by default.",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Never check in credentials and login information to a repository."})]})}),"\n",(0,s.jsx)(t.h2,{id:"stages",children:"Stages"}),"\n",(0,s.jsxs)(t.p,{children:["All stages specified in a ",(0,s.jsx)(t.code,{children:"stages.json"})," are processed.\nThis means all conditions are working correctly and the currently active stage is set in the Form object."]}),"\n",(0,s.jsx)(t.admonition,{title:"Note",type:"tip",children:(0,s.jsxs)(t.p,{children:["Server workflows are partially supported! ",(0,s.jsx)(t.code,{children:"condition"}),", ",(0,s.jsx)(t.code,{children:"setstatus"}),", ",(0,s.jsx)(t.code,{children:"setcurrentstatus"}),", ",(0,s.jsx)(t.code,{children:"setfield"})," and ",(0,s.jsx)(t.code,{children:"stagechange"})," are processed on Form approve."]})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);