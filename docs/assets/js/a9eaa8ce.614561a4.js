"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[65280],{17848:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"form-controls/dropdownlist","title":"DropDownList","description":"The new control is an alternative to the Control \\"ComboBox\\". The values of the control \\"DropDownList\\" can be provided as static datasource (data formatted as JSON Array inside your template) or by an external datasource e.g. by referencing a HFSqlServer list by linking to the URL or by providing an oData source as known of the ComboBox control.","source":"@site/versioned_docs/version-9.1/form-controls/dropdownlist.md","sourceDirName":"form-controls","slug":"/form-controls/dropdownlist","permalink":"/docs/9.1/form-controls/dropdownlist","draft":false,"unlisted":false,"tags":[],"version":"9.1","frontMatter":{"title":"DropDownList"},"sidebar":"tutorialSidebar","previous":{"title":"DrawingControl","permalink":"/docs/9.1/form-controls/drawingcontrol"},"next":{"title":"FileUploader","permalink":"/docs/9.1/form-controls/fileuploader"}}');var i=n(74848),d=n(28453);const l={title:"DropDownList"},o="DropDownList",s={},a=[{value:"listOptions Object",id:"listoptions-object",level:2},{value:"formControlMapping",id:"formcontrolmapping",level:2},{value:"Stored data",id:"stored-data",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"dropdownlist",children:"DropDownList"})}),"\n",(0,i.jsx)(t.p,{children:'The new control is an alternative to the Control "ComboBox". The values of the control "DropDownList" can be provided as static datasource (data formatted as JSON Array inside your template) or by an external datasource e.g. by referencing a HFSqlServer list by linking to the URL or by providing an oData source as known of the ComboBox control.'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"static datasource:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"technician\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'Technician',\n        required: true,\n        optionLabel: 'Please select the responsible technician',\n        dataSource: [\n            { name: 'Bauer, F', code: 'Bauer, F' },\n            { name: 'Gruber, P', code: 'Gruber, P' },\n            { name: 'Lanner, G', code: 'Lanner, G' },\n            { name: 'Simon, R', code: '3521' },\n            { name: 'Herbert, W', code: '123456789012' }\n        ],\n        dataTextField: 'name',\n        dataValueField: 'code',\n        mapping: true \n    }\"></div>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"external datasource (URL):"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"tab1_dropdownlist\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'DropDownList (HFSql Catalogs)',\n        list: true,\n        mapping: true,\n        minLength: 3,\n        url: '/api/catalogs/Items?$select=Title,KatalogText,Streetname&amp;%24orderby=Title,PLZ&amp;%24top=1000',\n        defaultValue: 'Title1',\n        dataTextField: 'KatalogText',\n        dataValueField: 'Title',\n        template:  '\\#: Streetname # <small>(#: PLZ # #: Postort #)</small>',\n        valueTemplate: '\\<strong>#: Streetname #</strong> <small>(#: PLZ # #: Postort #)</small>',\n    }\"></div>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"multilingual external datasource (URL):"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"tab1_dropdownlist\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'DropDownList (HFSql Catalogs)',\n        list: true,\n        mapping: true,\n        minLength: 3,\n        url: '/api/catalogs/Items?$select=Title,KatalogText,Streetname,Strassenname&amp;%24orderby=Title,PLZ&amp;%24top=1000',\n        i18nDataTextField: {\n            en: 'Streetname', \n            de: 'Strassenname',\n            default: 'Streetname'\n        },\n        dataValueField: 'Title',\n        template:  '\\#: Streetname # <small>(#: PLZ # #: Postort #)</small>',\n        valueTemplate: '\\<strong>#: Streetname #</strong> <small>(#: PLZ # #: Postort #)</small>',\n    }\"></div>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"external datasource (OData):"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"liveOdataSource\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'DropDownList with live OData source',\n        required: true, \n        dataTextField: 'KatalogText',\n        dataValueField: 'Title', \n        autoBind: false,\n        dataSource: {\n            type: 'odata',\n            transport: {\n                read: {\n                    url:'https://example.com/liveOdataSource/?select=Title,KatalogText&orderby=KatalogText',\n                    dataType: 'json',\n                    headers: {\n                        'Accept': 'application/json;odata=verbose'\n                    }\n                }\n            }\n        }\n    }\"></div>\n"})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Property"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"How to use"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"autoBind"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"autoBind: false"})}),(0,i.jsxs)(t.td,{children:["Controls whether to bind the control to the data source on initialization. Default value is ",(0,i.jsx)(t.code,{children:"true"}),". Use ",(0,i.jsx)(t.code,{children:"false"})," if you use in multiple controls the same data source. This reduces server requests."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"dataSource*"})}),(0,i.jsx)(t.td,{children:"JSON Pseudo Array"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dataSource: [{name: 'Bauer, F', code: 'Bauer, F'}, {name: 'Gruber, P', code: 'Gruber,P'}]"})}),(0,i.jsx)(t.td,{children:"Provide the data for the drop down selection formatted like a JSON Array inside your template"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"checkValueInitially"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"checkValueInitially: true"})}),(0,i.jsx)(t.td,{children:"Stored values gets initially checked if they are contained in the data source that is defined on the control. In certain scenarios this is not desireable. The default value is true."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"dataTextField"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dataTextField: 'name'"})}),(0,i.jsx)(t.td,{children:"Define the key of the key-value pair."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"dataValueField"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dataValueField: 'code'"})}),(0,i.jsx)(t.td,{children:"Define the value of the key-value pair."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"defaultValue"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"defaultValue: 'Title1',"})}),(0,i.jsxs)(t.td,{children:["Define the value selected in newly created forms. ",(0,i.jsx)(t.strong,{children:"Note:"})," This must be the appropiate dataValueField value."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"disabled"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"disabled: true"})}),(0,i.jsx)(t.td,{children:'Set "true" whenever the DropDownList should be disabled. The default value is false.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"doNotCopy"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"doNotCopy: true"})}),(0,i.jsx)(t.td,{children:'Set "true" whenever the field should get deleted if form is copied.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"formControlMapping"}),(0,i.jsx)(t.td,{children:"Object"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{ example_id: 'example_key' }"})}),(0,i.jsxs)(t.td,{children:["Define a mapping object to copy fields from the selecetd dataItem to given form controls. ",(0,i.jsx)(t.a,{href:"#formcontrolmapping",children:(0,i.jsx)(t.code,{children:"more infos"})})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"i18nDataTextField"}),(0,i.jsx)(t.td,{children:"JSON Array"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{ en: 'Streetname', de: 'Strassenname', default: \u2018Streetname' }"})}),(0,i.jsx)(t.td,{children:"Use the i18nDataTextfield instead of teh dataTextfield to use multilingual catalogs in addition to the translation.json file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"label"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"label: 'Technician'"})}),(0,i.jsx)(t.td,{children:"Define a label for your control element."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"list"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"list: true"})}),(0,i.jsx)(t.td,{children:'Set "true" whenever the content should show up in the list on the dashboard.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"listOptions"}),(0,i.jsx)(t.td,{children:"Object"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"#listoptions-object",children:(0,i.jsx)(t.code,{children:"listOptions: {...}"})})}),(0,i.jsxs)(t.td,{children:["Set additional options for controls with ",(0,i.jsx)(t.code,{children:"list"})," equals ",(0,i.jsx)(t.code,{children:"true"}),". E.g. set custom label for filter/sort/group dialogs or hide them complettely."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"mapping"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"mapping: true"})}),(0,i.jsx)(t.td,{children:'Set "true" whenever the form element should be visible / editable in the corresponding HFSql server list list.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"minLength"}),(0,i.jsx)(t.td,{children:"Number"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"minLength: 3"})}),(0,i.jsx)(t.td,{children:"The minimum number of characters the user needs to type before a search is performed. Set a higher value than 1 whenever the search could match a lot of items."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"optionLabel"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"optionLabel: 'Please select ...'"})}),(0,i.jsx)(t.td,{children:"Define a placeholder text for the DropDownList."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"optionTemplate"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"optionTemplate: '<span class=\"default-option-label\">label</span>'"})}),(0,i.jsx)(t.td,{children:"Define a placeholder template for the DropDownList."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"persistent"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"persistent: 'user'"})}),(0,i.jsx)(t.td,{children:'The value "user" sets the initial selected value of the DropDownList to the value of  the previous form item of the current user and overwrites any defaultValue.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"required"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"required: true"})}),(0,i.jsx)(t.td,{children:'Set "true" if the control has to be filled in.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"tooltip"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"tooltip: 'Please indicate at least one cause of damage.'"})}),(0,i.jsx)(t.td,{children:"Write a comment to provide further information about the field. A question mark will then be shown within the label and with a click/tap on it, the information will occur."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"template"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"template:  '\\#: Streetname # <small>(#: PLZ # #: Postort #)</small>',"})}),(0,i.jsxs)(t.td,{children:["Define the formatting of the DropDownList values for display e.g. combining one or more columns of the datasource for single selection. ",(0,i.jsx)(t.strong,{children:"Important:"})," Have to return string inside a wrapping ",(0,i.jsx)(t.code,{children:"<span>"})," element."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"typeAhead"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"typeAhead: false,"})}),(0,i.jsxs)(t.td,{children:["Enable/Disable filter for DropDownList. Default is ",(0,i.jsx)(t.code,{children:"true"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"url"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"url: '/api/catalogs/Items?$select=Title,KatalogText&$orderby=Title'"})}),(0,i.jsx)(t.td,{children:"The URL must be a HFSql server relative URL. For instance, the oData link to a HFSql server list."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"valueTemplate"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"valueTemplate: '\\<strong>#: Streetname #</strong> <small>(#: PLZ # #: Postort #)</small>'"})}),(0,i.jsx)(t.td,{children:"Define the formatting of the DropDownList values for saved value e.g. combining one or more columns of the datasource for single selection"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"visiting"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"visiting: true"})}),(0,i.jsx)(t.td,{children:'Set "true" whenever the form element should be marked as "visited" when the user has clicked or tapped at the form element.field.'})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"onChanged"}),(0,i.jsx)(t.td,{children:"Function(value: string, text: string)"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"onChanged: HFFormdefinition.Namespace.Method"})}),(0,i.jsx)(t.td,{children:"Call a pre-defined JS-method to do something when the status of the control changes"})]})]})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"* These options are required."})}),"\n",(0,i.jsx)(t.h2,{id:"listoptions-object",children:"listOptions Object"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Property"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"How to use"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"dialogText"}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dialogText: 'Display Text'"})}),(0,i.jsx)(t.td,{children:"Set custom label for filter/sort/group dialogs."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"dialogHide"}),(0,i.jsx)(t.td,{children:"Boolean"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dialogHide: true"})}),(0,i.jsx)(t.td,{children:"Hide field from filter/sort/group dialogs."})]})]})]}),"\n",(0,i.jsxs)(t.admonition,{title:"Note",type:"tip",children:[(0,i.jsx)(t.p,{children:"Please follow the conventions to build an oData Source Link by considering the following documentations:"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)("a",{href:"https://msdn.microsoft.com/EN-US/library/dn292552.aspx",target:"_blank",children:"Working with lists and list items with REST"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)("a",{href:"https://msdn.microsoft.com/EN-US/library/fp142385.aspx",target:"_blank",children:"Use oData query operations in SharePoint REST requests"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)("a",{href:"http://www.odata.org/",target:"_blank",children:"oData - the best way to REST"}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(t.h2,{id:"formcontrolmapping",children:"formControlMapping"}),"\n",(0,i.jsx)(t.p,{children:"The mapping objects consists of keys which are the form control id's to copy to and the value which can be a data source key or an object with the data source key and a format function."}),"\n",(0,i.jsx)(t.p,{children:"Every value change the specified data source entries are copied to the given form controls."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"exmaple_mapping\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'Example',\n        url: '/api/catalogs/Example?$select=Text,Value,Description,Date',\n        dataTextField: 'Text',\n        dataValueField: 'Value',\n        formControlMapping: {\n            description: 'Description',\n            date_picker: {\n                key: 'Date',\n                callback: HFFormdefinition.ExampleNamespace.formatDateFunc\n            }\n        }\n    }\">\n</div> \n"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"type FormControlMappingType = {\n    key: string;\n    callback: (dataItem: any, dataKey: string) => any;\n};\n\ninterface IFormControlMapping {\n    [id: string]: string | FormControlMappingType;\n}\n"})}),"\n",(0,i.jsx)(t.h2,{id:"stored-data",children:"Stored data"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:"<div id=\"technician\" \n    data-win-control=\"HFWinJSCtrl.DropDownList\" \n    data-win-options=\"{\n        label: 'Technician',\n        dataSource: [\n            { name: 'Bauer, F', code: '1' },\n            { name: 'Gruber, P', code: '2' },\n            { name: 'Lanner, G', code: '3' },\n            { name: 'Simon, R', code: '4' },\n            { name: 'Herbert, W', code: '5' }\n        ],\n        dataTextField: 'name',\n        dataValueField: 'code',\n        required: true,\n        mapping: true \n    }\"></div>\n"})}),"\n",(0,i.jsx)(t.p,{children:"For each DropDownList inside your forms there are two value pairs of stored data:"}),"\n",(0,i.jsx)(t.p,{children:"First the information for the DropDownList itself"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "id": "technician",\n    "value": "3521"\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"and second for the selected value:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "id": "technician_HFDropDownListText",\n    "value": "Simon, R"\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var r=n(96540);const i={},d=r.createContext(i);function l(e){const t=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(d.Provider,{value:t},e.children)}}}]);